{% extends "base.html" %}
{% block title %}Admin · Dashboard{% endblock %}
{% block content %}
<section class="wrap">
  <div class="flex-between" style="margin-bottom:12px">
    <h1 class="mt-0">Admin · Dashboard</h1>
    <div class="inline-actions">
      <a class="btn" href="{{ url_for('admin.admin_backup') }}">Download backup</a>
      <a class="btn btn-outline" href="{{ url_for('admin.admin_logout') }}">Log out</a>
    </div>
  </div>

  <div class="card">
    <h3 class="mt-0">Key metrics (totals)</h3>
    <div class="grid grid-3" style="gap:12px;">
      <div class="stat-card">
        <div class="stat-label">Landlords</div>
        <div class="stat-value">{{ totals.landlords }}</div>
        <div class="stat-delta">Last 24h: {{ deltas.landlords }}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Properties</div>
        <div class="stat-value">{{ totals.houses }}</div>
        <div class="stat-delta">Last 24h: {{ deltas.houses }}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Rooms</div>
        <div class="stat-value">{{ totals.rooms }}</div>
        <div class="stat-delta">Last 24h: {{ deltas.rooms }}</div>
      </div>
    </div>
  </div>

  <div class="card" style="margin-top:14px;">
    <h3 class="mt-0">Navigation</h3>
    <ul style="margin:0; padding-left:18px; line-height:1.8;">
      <li><a href="{{ url_for('admin.admin_cities') }}">Manage cities</a></li>
      <li><a href="{{ url_for('admin.admin_landlords') }}">Manage landlords</a></li>
      <li><a href="{{ url_for('admin.admin_images') }}">All images (broken &amp; valid)</a></li>
      <li><a href="{{ url_for('admin.admin_summaries') }}">Summaries (availability)</a></li>
      <!-- New link -->
      <li><a href="{{ url_for('admin.admin_accreditations') }}">Manage accreditations</a></li>
    </ul>
  </div>
</section>

<style>
.stat-card {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 12px;
  background: #fff;
}
.stat-label {
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 6px;
}
.stat-value {
  font-size: 28px;
  font-weight: 700;
  line-height: 1.2;
}
.stat-delta {
  font-size: 12px;
  color: var(--muted);
  margin-top: 6px;
}
</style>
{% endblock %}
