{% extends "base.html" %}
{% block title %}{{ 'Add house' if mode=='new' else 'Edit house' }} â€“ Student Palace{% endblock %}
{% block content %}
<section class="wrap">
  <h1>{{ 'Add a house' if mode=='new' else 'Edit house' }}</h1>

  <form method="post" id="house-form">

    <!-- BASICS -->
    <div class="card card--accent-edges">
      <h3 class="mt-0">Basics</h3>
      <div class="grid grid-2">
        <!-- Title -->
        <label class="field">
          <span class="label">Title</span>
          <input type="text" name="title" value="{{ house.title or '' }}">
        </label>

        <!-- City -->
        <label class="field">
          <span class="label">City</span>
          <select name="city">
            {% for c in cities %}
              <option value="{{ c }}" {% if house.city==c %}selected{% endif %}>{{ c }}</option>
            {% endfor %}
          </select>
        </label>

        <!-- Address -->
        <label class="field" style="grid-column:1/-1">
          <span class="label">Address</span>
          <input type="text" name="address" value="{{ house.address or '' }}">
        </label>

        <!-- Bedrooms -->
        <label class="field">
          <span class="label">Total bedrooms</span>
          <input type="number" name="bedrooms_total" value="{{ house.bedrooms_total or '' }}">
        </label>

        <!-- Gender pref -->
        <label class="field">
          <span class="label">This house identifies as</span>
          <select name="gender_preference">
            {% for g in ['Male','Female','Mixed','Either'] %}
              <option value="{{ g }}" {% if house.gender_preference==g %}selected{% endif %}>{{ g }}</option>
            {% endfor %}
          </select>
        </label>
      </div>
    </div>

    <!-- MEDIA -->
    <div class="card card--accent-edges">
      <h3 class="mt-0">Media</h3>
      <div class="grid grid-3">
        <label class="field">
          <span class="label">YouTube link</span>
          <input type="url" name="youtube_url" value="{{ house.youtube_url or '' }}">
        </label>
        <div class="field">
          <span class="label">Photos</span>
          <a class="btn" href="{{ url_for('landlord.house_photos', hid=house.id) }}">Manage photos</a>
        </div>
        <div class="field">
          <span class="label">Floor plans</span>
          <button class="btn" type="button" disabled>Coming soon</button>
        </div>
      </div>
    </div>

    <!-- ACTIONS -->
    <div class="card card--accent-edges">
      <button type="submit" class="btn btn-accent">Save house</button>
    </div>
  </form>
</section>
{% endblock %}
