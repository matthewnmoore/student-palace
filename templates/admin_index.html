{% extends "base.html" %}
{% block title %}Admin · Home{% endblock %}
{% block content %}
<section class="wrap">
  <div class="flex-between" style="margin-bottom:12px">
    <h1 class="mt-0">Admin</h1>
    <div class="inline-actions">
      <a class="btn btn-outline" href="{{ url_for('admin.admin_logout') }}">Log out</a>
      <!-- ✅ NEW: Manual backup (streams a ZIP, no file stored server-side) -->
      <a class="btn" href="{{ url_for('admin.admin_backup') }}">Download backup</a>
    </div>
  </div>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="flash {{ category }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <div class="card">
    <h3 class="mt-0">Sections</h3>
    <ul style="margin:0; padding-left:18px; line-height:1.8;">
      <li><a href="{{ url_for('admin.admin_cities') }}">Manage cities</a></li>
      <li><a href="{{ url_for('admin.admin_landlords') }}">Manage landlords</a></li>
      <li><a href="{{ url_for('admin.admin_images') }}">All images (broken &amp; valid)</a></li>
    </ul>
  </div>
</section>
{% endblock %}
