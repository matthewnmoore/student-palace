{% extends "base.html" %}
{% block title %}Search results – Student Palace{% endblock %}
{% block content %}
<section class="wrap">
  <div class="card">
    <h1 class="mt-0">Search results</h1>

    {% if query and query.error %}
      <div class="flash error">{{ query.error }}</div>
    {% else %}
      <p class="muted">Step 1 preview only – results will appear once we wire the database in Step 5.</p>
    {% endif %}

    <form class="search-inline" action="{{ url_for('public.search') }}" method="get" style="margin-top:10px">
      <label class="check"><input type="checkbox" name="ensuite" {% if query and query.ensuite %}checked{% endif %}> Ensuite</label>
      <label class="check"><input type="checkbox" name="bills_included" {% if query and query.bills_included %}checked{% endif %}> Bills included</label>
      <button class="btn" type="submit">Update</button>
    </form>

    <div class="card" style="margin-top:12px">
      <p class="muted">Preview: filters echoed here for now.</p>
      <p style="margin-top:6px">
        City: {{ query.city if query and query.city else 'Any' }}<br>
        Group size: {{ query.group_size if query and query.group_size else 'Any' }}<br>
        Gender: {{ query.gender if query and query.gender else 'Either' }}<br>
        Ensuite: {{ 'Required' if query and query.ensuite else 'No preference' }}<br>
        Bills included: {{ 'Required' if query and query.bills_included else 'No preference' }}
      </p>
    </div>
  </div>
</section>
{% endblock %}
