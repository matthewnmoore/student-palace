{% extends "base.html" %}
{% block title %}Student Palace – Find rooms{% endblock %}
{% block content %}
<section class="wrap">

  <!-- HERO / INTRO -->
  <div class="card hero-intro">
    <h1 class="mt-0">Your next student home — without the faff.</h1>
    <p class="muted">Look out for the ✅ green tick – it means properties from verified landlords and agents.</p>
    <p class="muted">Search for rooms, flats or houses just for Students.</p>
  </div>

  <!-- SEARCH -->
  <div class="card">
    <h2 class="mt-0">Search verified properties</h2>

    <form action="{{ url_for('public.search') }}" method="get" class="search-form">
      <!-- City -->
      <div class="field field-row">
        <label class="label-inline" for="city">City</label>
        <select id="city" name="city" class="control">
          <option value="">Any city</option>
          {% for c in cities %}
            <option value="{{ c }}">{{ c }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Group size -->
      <div class="field field-row">
        <label class="label-inline" for="group_size">Group size</label>
        <select id="group_size" name="group_size" class="control">
          <option value="">Any</option>
          {% for n in range(1,10) %}
            <option value="{{ n }}">{{ n }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Gender / house type -->
      <div class="field field-row">
        <label class="label-inline" for="gender">I want a house that is</label>
        <select id="gender" name="gender" class="control" required>
          <option value="" selected>Please choose one</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Anything">Anything</option>
        </select>
      </div>

      <!-- Preferences -->
      <div class="field field-row">
        <span class="label-inline">Preferences</span>
        <div class="preferences">
          <label class="pref-item">
            <input type="checkbox" name="ensuite">
            <span>Ensuite / own bathroom</span>
          </label>
          <label class="pref-item">
            <input type="checkbox" name="bills_included">
            <span>All bills included</span>
          </label>
        </div>
      </div>

      <!-- Submit -->
      <div class="form-actions">
        <button class="btn btn-accent" type="submit">Find rooms</button>
      </div>
    </form>
  </div>

  <!-- FEATURED -->
  <div class="card">
    <h2 class="mt-0">Featured this week</h2>
    <p class="muted">A popular pick in {{ cities[0] if cities else 'Cardiff' }}.</p>
    <div class="inline-actions" style="margin-top:8px">
      <a class="btn" href="{{ url_for('public.search') }}">Browse all</a>
      <a class="btn btn-outline" href="{{ url_for('public.index') }}">Back to home</a>
    </div>
  </div>

</section>
{% endblock %}
