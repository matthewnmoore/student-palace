{% extends "base.html" %}
{% block title %}Room photos â€“ Student Palace{% endblock %}
{% block content %}
<section class="wrap">
  <h1 class="mt-0">Photos for room: {{ room.name }} ({{ house.title }})</h1>

  <div class="card">
    <form method="post" enctype="multipart/form-data">
      <p><strong>Upload images</strong> (JPG/PNG/WebP, up to 5 total). You can select multiple.</p>
      <input type="file" name="photos" accept="image/*" multiple required>
      <div style="margin-top:10px">
        <button class="btn" type="submit">Upload</button>
        <a class="btn btn-outline" href="{{ url_for('rooms_list', hid=house.id) }}">Back</a>
      </div>
    </form>
  </div>

  <div class="card">
    <h3 class="mt-0">Existing photos</h3>
    {% if photos %}
      <div style="display:flex;flex-wrap:wrap;gap:10px">
        {% for p in photos %}
          <figure style="margin:0">
            <img src="{{ url_for('uploads', filename=p.rel_thumb) }}" style="display:block;border:1px solid #ddd;border-radius:8px">
            <figcaption class="small" style="max-width:220px">{{ p.orig_filename }}</figcaption>
          </figure>
        {% endfor %}
      </div>
    {% else %}
      <p class="help">No photos yet.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
